#!/usr/bin/env sh
. "$(dirname -- "$0")/_/husky.sh"

# æ£€æŸ¥Rustä»£ç æ ¼å¼
echo "ğŸ” Checking Rust code format..."
cd src-tauri
cargo fmt --check
if [ $? -ne 0 ]; then
  echo "âŒ Rust code format check failed. Please run 'cargo fmt' to fix formatting issues."
  exit 1
fi

# æ£€æŸ¥Rustä»£ç ç¼–è¯‘
echo "ğŸ” Checking Rust code compilation..."
cargo check
if [ $? -ne 0 ]; then
  echo "âŒ Rust code compilation failed. Please fix compilation errors."
  exit 1
fi

echo "âœ… Pre-commit checks passed!"