PNG（Portable Network Graphics）图片格式有以下特点：

### 1. 无损压缩
- PNG 使用**无损压缩算法**（基于 DEFLATE），这意味着图片数据在压缩和解压缩过程中不会丢失任何信息，保证了图像的原始质量[[1]](https://zh.wikipedia.org/wiki/PNG)。

### 2. 存储形式
- PNG 文件内部不是直接存储像素（如 RGBA 数组），而是以**数据块（chunk）结构**组织，每个数据块有特定功能（如 IHDR、IDAT、IEND 等）。
- 图像像素数据主要存储在**IDAT 块**中，这部分数据是经过压缩的原始像素流，不可直接读取为图像，需要解码处理。

### 3. 需要解码原因
- PNG 文件中的像素数据**经过压缩和编码**，并且可能还包含过滤（filter）以便更好压缩。
- 解码过程就是把 PNG 文件的结构解析出来，解压缩像素数据，还原为内存中的标准格式（如 RGBA 或 RGB 的字节数组），方便程序或前端直接使用。

### 4. 是否有压缩
- **有压缩**。PNG 格式采用 DEFLATE 算法进行压缩，通常能显著减小图像文件体积，尤其是带有透明或简单色块的图片。

### 总结表格

| 特点           | 说明                                                         |
|----------------|--------------------------------------------------------------|
| 无损压缩       | 采用 DEFLATE 算法，压缩过程不会丢失数据                      |
| 存储结构       | 以 Chunk（数据块）形式存储，像素数据经过压缩和过滤           |
| 需要解码原因   | 文件内部数据需解压和还原，才能转成可用的像素格式              |
| 是否压缩       | 有压缩，文件体积较小，适合网络传输和高质量图像存储           |

---

**PNG 文件中的 chunk（数据块）并不是用来做图片坐标空间分割的**，而是用于组织和存储图片的各种元数据、像素数据、调色板等。

下面是 PNG 格式中主要 chunk 的作用说明：

### 常见 PNG chunk 及其作用

| Chunk 名称 | 功能说明                                      | 是否必须 |
|------------|-----------------------------------------------|----------|
| **IHDR**   | 图像头部，包含图片宽高、位深、颜色类型等基本信息 | 必须     |
| **PLTE**   | 调色板，包含颜色表（仅用于索引色 PNG）          | 可选     |
| **IDAT**   | 图片的压缩像素数据（可能有多个 IDAT 块）         | 必须     |
| **IEND**   | 图像结束标志，表示文件结束                      | 必须     |
| **tEXt/zTXt/iTXt** | 存储文本信息（注释、说明等）            | 可选     |
| **tIME**   | 图像最后修改时间                               | 可选     |
| **gAMA**   | 图像的伽马值                                   | 可选     |
| **cHRM**   | 主色度信息                                    | 可选     |
| **sRGB**   | 标识标准 RGB 色彩空间                         | 可选     |
| **bKGD**   | 建议的背景颜色                                 | 可选     |
| **pHYs**   | 物理像素尺寸（分辨率信息）                     | 可选     |

### 注意事项

- **IDAT chunk** 是用来存储经过压缩的像素数据，多个 IDAT 块的数据会拼接起来作为整张图像的像素数据流。
- **chunk 的分割**仅仅是为了组织不同类型的数据，而不是按图片的坐标空间分块。
- 例如，图片的像素数据不是按“左上、右下”这样空间划分成多个块，而是整个图片的数据被压缩后分段存储在若干个 IDAT 块里。

### 详细解释
- **IHDR** 是文件开头第一个 chunk，定义了图片的基本属性。
- **IDAT** 可以有多个，每个存储一部分压缩像素流，解码器会将它们顺序拼接然后解压缩还原成完整的像素数组。
- 其它 chunk 是为了补充信息（如色彩、注释等），不是图片坐标空间的分块。
